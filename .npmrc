# React Native/Expo monorepo optimization
# Hoist critical packages that must resolve to single versions

# Core React ecosystem - CRITICAL for version consistency
public-hoist-pattern[]=react
public-hoist-pattern[]=react-dom
public-hoist-pattern[]=react-native
public-hoist-pattern[]=react-native-web

# Expo ecosystem - required for React Native builds
public-hoist-pattern[]=expo
public-hoist-pattern[]=@expo/*
public-hoist-pattern[]=expo-*

# Metro bundler - React Native build tooling
public-hoist-pattern[]=metro
public-hoist-pattern[]=metro-*
public-hoist-pattern[]=@metro/*

# React Navigation - avoid duplicate navigation contexts
public-hoist-pattern[]=@react-navigation/*

# Backend/Auth shared between mobile and webadmin
public-hoist-pattern[]=convex
public-hoist-pattern[]=@clerk/*

# Build tools and linting - shared across projects
public-hoist-pattern[]=@babel/*
public-hoist-pattern[]=@types/*
public-hoist-pattern[]=eslint*
public-hoist-pattern[]=typescript

# Workspace packages - ensure single resolution
public-hoist-pattern[]=@emedicard/*

# React Native specific tools
public-hoist-pattern[]=react-native-*
public-hoist-pattern[]=@react-native/*
public-hoist-pattern[]=@react-native-community/*

# Performance optimizations
auto-install-peers=true
strict-peer-dependencies=false
dedupe-peer-dependents=false

# Monorepo settings
enable-pre-post-scripts=true
prefer-workspace-packages=true

# Cache optimization
store-dir=node_modules/.pnpm-store